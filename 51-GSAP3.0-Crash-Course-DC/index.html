<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>

<body>
    <main>
        <div class="content">
            <h1 class="anim1"><span>Bridging the gap</span><span>between them</span><span>
                    and reality</span></h1>
            <p class="anim1"> Lorem ipsum dolor sit amet consectetur, adipisicing elit. Neque nemo quod reiciendis
                laudantium laborum delectus! </p>
            <a href="#" class="anim1" id="cta">Start Dreaming</a>
        </div>
    </main>

    <aside>
        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/2621168/swirl.png" alt="Swirl">
    </aside>

    <!-- gsap core cdn -->
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js"></script>

    <!-- css rule plugin: for text revealing effect -->
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CSSRulePlugin3.min.js"></script>

    <!-- js -->
    <script>
        // gsap.from('div',{opacity:0,duration:1,y:-50})
        // gsap.to('div',{opacity:0,duration:1,y:-50})

        // gsap easeing
        // gsap.from('div',{opacity:0,duration:1,y:-50,ease:'elastic(1,0.3)'})

        // stagger
        // gsap.from('.anim1',{opacity:0,duration:1,y:-50,ease:'elastic(1,0.3)',stagger:0.6})

        // text revealing
        var rule = CSSRulePlugin.getRule("span:after");

        /* 
        // text revealing
        gsap.to(rule,{cssRule:{scaleY:0},duration:1});

        gsap.from('.anim1',{opacity:0,duration:1,y:-50,ease:'elastic(1,0.3)',stagger:0.6});

        

        gsap.from('img',{duration:1,y:30,opacity:0,delay:1.4});

        gsap.from('aside',{duration:1,delay:1.1,backgroundPosition:'200px 0px',opacity:0});
        */
        var tl = gsap.timeline({ default: { duration: 1 } })

        tl.from(".anim1", { y: -50, stagger: .6, opacity: 0 })
            .to(rule, { duration: 1.8, cssRule: { scaleY: 0 } }, "-=2.2")
            .from("aside", { backgroundPosition: '200px 0px', opacity: 0 }, "-=1.5")
            .from("img", { y: 50, opacity: 0 }, "-=.5")

        document.getElementById('cta').addEventListener('click', () => {
            tl.reversed() ? tl.play() : tl.reverse()
        })
    </script>

</body>

</html>